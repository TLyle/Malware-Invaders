using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class Tutoriel : MonoBehaviour {
    public GameObject tutoriel;
    public Text explications;
    public Button competence;
    public Button menu;
	public Button infoAmNord;
	public Button infoOceanie;
	public Switch playPause;
    public GameObject boxContamination;
    public GameObject boxPatch;
    public GameObject boxPointCompetence;
    public GameObject boxCompetence;
    public GameObject boxMenu;
	public GameObject boxPlayPause;
	public GameObject boxInfo;
    public GameObject competence1;
    public GameObject competence2;
    public GameObject competence3;

    private int tutorialNumber;
    // Use this for initialization
	void Start () {
        if (PlayerPrefs.GetInt("ld") == 0)
        {
            explications.text = "Bienvenu dans le tutoriel";
            boxContamination.SetActive(false);
            boxPatch.SetActive(false);
            boxPointCompetence.SetActive(false);
            boxCompetence.SetActive(false);
            boxMenu.SetActive(false);
            boxPlayPause.SetActive(false);
            boxInfo.SetActive(false);
            competence1.SetActive(false);
            competence2.SetActive(false);
            competence3.SetActive(false);
            competence.interactable = false;
            menu.interactable = false;
            competence.interactable = false;
            infoAmNord.interactable = false;
            infoOceanie.interactable = false;
            playPause.interactable = false;
            tutorialNumber = 1;
        }
        else
        {
            CloseTutoriel();
        }
	}
	
    public void CloseTutoriel()
    {
        competence.interactable = true;
        menu.interactable = true;
		infoAmNord.interactable = true;
		infoOceanie.interactable = true;
		playPause.interactable = true;
        tutoriel.SetActive(false);
    }

    public void NextTutoriel()
    {
        switch (tutorialNumber)
        {
            case 1:
                explications.text = "La Contamination de la planète est affichée en haut a gauche de l'écran. La couleur de chaque continent varira en fonction de la contamination de celui-ci. Pour gagner la contamination doit atteindre 100%.";
                boxContamination.SetActive(true);
                break;

            case 2:
                boxContamination.SetActive(false);
                explications.text = "Le Patch désigne l'avancement du blocage du virus, si le patch arrive à 100%, votre contamination diminuera jusqu'à 0% et vous avez perdu.";
                boxPatch.SetActive(true);
                break;

            case 3:
                boxPatch.SetActive(false);
                explications.text = "Les Points de Compétence vont vous permettre de développer votre virus en lui attribuant des spécificité. Plus vous contaminerez d'appareil, plus les points augmenteront vite";
                boxPointCompetence.SetActive(true);
                break;

            case 4:
                boxPointCompetence.SetActive(false);
                explications.text = "Dans cet onglet vous pourrez acheter les compétences pour développer votre virus. Les compétences sont divisées en 2 catégories :\n";
                explications.text += "- Propagation : augmente les appareils contaminés sur la planète (Augmentation de la Contamination)\n";
                explications.text += "- Résistance : augmente la résistance a certaine mesure de sécurité (Diminue la vitesse d'augmentation du Patch)\n";
                competence1.SetActive(true);
                competence2.SetActive(true);
                competence3.SetActive(true);
                boxCompetence.SetActive(true);
                break;

            case 5:
                boxCompetence.SetActive(false);
                competence1.SetActive(false);
                competence2.SetActive(false);
                competence3.SetActive(false);
                explications.text = "Cet onglet permet d'accéder au menu du jeu à partir du quel il est possible d'activer ou non la musique et les effets du jeu ainsi que de sauvegarder et revenir au menu principal";
                boxMenu.SetActive(true);
                break;

			case 6:
				boxMenu.SetActive (false);
				explications.text = "Avec ces boutons, vous pourrez mettre en pause ou reprendre la partie. Mettre en pause la partie stopera la progression de la contamination, du développement du patch et des points de compétences. Mais vous pourrez toujours acheter des compétences.";
				boxPlayPause.SetActive (true);
				break;

			case 7:
				boxPlayPause.SetActive (false);
				explications.text = "En cliquant sur le bouton 'information' d'un continent, vous pourrez voir le nombre d'appareil contaminé dans ce continent.";
				boxInfo.SetActive (true);
				break;

			case 8:
				boxInfo.SetActive (false);
                explications.text = "Pour commencer la partie, votre première compétence de propagation.\nEnjoy :)";
                break;

			case 0:
				competence.interactable = true;
				menu.interactable = true;
				infoAmNord.interactable = true;
				infoOceanie.interactable = true;
				playPause.interactable = true;
                tutoriel.SetActive(false);
                break;
        }
        tutorialNumber = (tutorialNumber + 1) % 9;
    }
}
